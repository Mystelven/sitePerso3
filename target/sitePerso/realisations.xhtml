<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/WEB-INF/templates/default.xhtml">

    <ui:define name="description">
        <meta name="description" content="This page will display the list and a description of all the project i've done." />
    </ui:define>

    <ui:define name="title">
        <title>#{app.applicationName} : Realisations</title>
    </ui:define>
    
    <ui:define name="navigation">
        <div class="nav-collapse">
            <ul class="nav">
                <li><a href="#{homeServlet.getName()}">Home</a></li>
                <li><a href="#{cvServlet.getName()}">Curriculum Vitae</a></li>
                <li class="active"><a href="#{projectServlet.getName()}">Realisations</a></li>
                <li><a href="#{researchServlet.getName()}">Research</a></li>
                <li><a href="#{contactServlet.getName()}">Contact</a></li>
            </ul>
        </div>
        <!--/.nav-collapse -->
    </ui:define>
    
	<ui:define name="content">
        
		<div class="hero-unit">
			<h1>See all my projects</h1>
        </div>

        <!-- Page Content -->


            <!-- /.row -->
        <c:choose>
            <c:when test="${testOk == 'true'}">
                    
                <c:forEach var="i" begin="${start}" end="#{end}">
                    
                    <div class="well">
                            
                        <div class="row">
                            <div class="span7">
                                <a href="viewProject?project=#{i}">
                                    <img itemprop="image" class="img-responsive" src="#{project.getImage(i)}" width="100%" height="100%" alt="#{project.getName(i)}" />
                                </a> 
                            </div>
                            
                            <br />
                            
                            <div class="span4">
                                <h2><h:outputText escape="false" value="#{project.getName(i)}" />
                                    <span class="label label-info">
                                        <h:outputText escape="false" value="#{project.getDateProject(i)}" />
                                    </span>
                                </h2>
                                <br />
                                <h:outputText escape="false" value="#{project.getDescription(i,false)}" />
                                <br /><br />
                                <a class="btn btn-primary" href="viewProject?project=#{i}">View Project <span class="glyphicon glyphicon-chevron-right"></span></a>
                            </div>
                        </div>
                    <!-- /.row -->
                    </div>
                    </c:forEach>
                </c:when>

            <c:otherwise>
                <div class="well">  
                    <p> Problem with the indexes. </p>        
                </div>
            </c:otherwise>
            
        </c:choose>
            <hr />

        <!-- /.container -->
        
            <!-- Pagination -->
            <div class="well pagination-centered">
                <div class="col-lg-12">
                    <ul class="pagination">
                        
                        <c:choose>
                        <c:when test="${testBeginPage == 'true'}">
                            <li>
                                <a href="projects?page=${currentPage -1}"> previous </a>
                            </li>
                        </c:when>
                        </c:choose>

                        <c:choose>
                        <c:when test="${testBeginPage == 'true'}">
                            <li>
                                <a href="projects?page=${currentPage -1}">${currentPage -1}</a>
                            </li>
                        </c:when>
                        </c:choose>

                        <li class="active">
                            <a href="#">${currentPage}</a>
                        </li>

                        <c:choose>
                        <c:when test="${testLastPage == 'true' }">
                            <li>
                                <a href="projects?page=${currentPage +1}">${currentPage +1}</a>
                            </li>
                        </c:when>
                        </c:choose>
                        
                        <c:choose>
                            <c:when test="${testLastPage == 'true' }">
                                <li>
                                    <a href="projects?page=${currentPage +1}"> next </a>
                                </li>
                            </c:when>
                        </c:choose>

                    </ul>
                </div>
            </div>
            <!-- /.row -->
        
	</ui:define>
</ui:composition>
